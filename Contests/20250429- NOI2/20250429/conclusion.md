# 20250429 总结 & [account](https://www.luogu.com.cn/paste/znpos813)

## T1([persona](https://www.luogu.com.cn/problem/P8253)) [min-max 容斥] [拆分贡献]

期望:100 实际:100 难度:2 用时:1h

当贡献形式为 $\max + \min$ 时, 考虑使用 min-max 容斥消去全局的 $\min$, 从而使偏序数量降维.

当贡献中出现了形如 $\min$ 套多个元素的和的形式时, 考虑先分类讨论 $\min$ 的取值, 然后将贡献分摊到每个元素上.

## T2(maze) [网络流] [退流]

期望:68 实际:70 难度:3.5 用时:3.5h

幽默 subtask, 内部分数算加和. 本来可以多拼一点分, 但是没算清自己的复杂度就放弃了.

对于一类在残量网络上增删 $O(1)$ 流量的边, 动态维护最大流的问题, 可以直接每次 $O(m)$ 暴力增广, 并使用 ``bitset`` 优化至单次 $O(\frac{n^2}{\omega})$.

网络流可以退流. 具体来说, 走一条 T 到 S 的路径即可, 随后将路径反向. 故网络流不需要线段树分治.

由于网络流的反悔机制, 使得无需考虑后效性问题, 在网络流上套一些奇怪东西之后依旧每一步都取最优即可. 比如本题建模为 S 向 DAG 上每个点连边权为 $a_i$ 的边, DAG 边权为 1, 每个点向 T 连边权为 mid 的边, 动态维护 mid 为保证 S 能往外流满的最小 mid, 则增加边容易维护, 删边即退流时找 T 到 $i$ 的边权最小的点作为路径上第二个点即可保证局部最优.

## T3(flyburg) [Dp of Dp]

期望:8 实际:0 难度:5 用时:0.5h

幽默 spj, 传统比较模式.

毫无意义的把暴力指数 Dp 变成自动机然后发现结点和边都很少然后再多卡卡常多特判就过了的题.

## 结算

T2 想了 1h 的枚举最小割然后转化为式子并用 Dp 维护, 发现最小割的式子是最大权闭合子图, 然后还在接着想怎么做, 浪费了较多时间.
