# 20250603 总结

## T1(a) [插头 Dp] [简化状态]

应得:100 实得:66 难度:3 用时:2h

想到了将两种操作结合在一起的变形方法, 但因为早上脑子不清楚, 认为是 $6^n$ 的而不是 $3^n$.

对于一类经典的异或方格全变 0 问题, 若一个操作只会影响上行本行和下行, 则要记录的只有上一行的 bitmask 和对下一行的影响, 故两部分不独立时可以考虑合并在一起以简化状态. 如若一种操作是异或一个格子, 一种操作是异或四联通的四个格子, 并把自己变成通配符, 则记上一行的 bitmask 的同时对下一行的影响也唯一确定了.

## T2(b) [主席树] [整体二分]

应得:100 实得:100 难度:2.5 用时:1.5h

对于一类与区间 $\text{mex}$ 有关的题目, 除经典的莫队外还可以以右端点为编号, 值域为下标做主席树, 每个下标存上一个当前值出现的位置; 或以值域为编号, 右端点为下标做主席树, 每个下标存最短的左端点使得区间 $\text{mex}$ 大于当前值. 前者可以 $O(\log n)$ 查静态区间 $\text{mex}$, 后者可以支持一系列对 $\text{mex}$ 进行二分的操作.

整体二分只需要支持快速的使 $mid \plusmn 1$ 和查询一个区间答案与 $mid$ 的关系即可, 故即使正常做需要大数据结构, 也只需套一个撤销即可. 实现上, 若维护修改需要同时做一些查询, 可以将修改事实上做的事情预处理出来, 这样整体二分的时候就不用做这些查询.

主席树若需要打标记, 查询时不能下传标记, 否则结点数会大幅增加, 尤其是查询次数量级超过修改次数量级时. 不过我这次明智地提前注意到了.

## T3([c](https://qoj.ac/problem/10042)) [倒推] [贪心] [线段树]

应得:19 实得:7 难度:4.5 用时:1h

甚至没有想到 $O(n!)$ 枚举顺序然后从左到右地匹配的暴力. 有点唐.

对于一类整体看上去完全做不了的题目, 考虑假设知道了某些信息后原题是否变成了简单题, 则只需考虑如何求出这些信息. 比如本题知道了任意一组集合使得集合内元素两两不相邻, 且给定的区间对集合内元素存在完美匹配, 则简单贪心即可求出答案, 故只需考虑如何求出集合即可. 事实上感觉其常见于为每个元素分配匹配元素的题目里面, 通常是简化成确定用到的元素集合.

## 结算

T1 写完 $O(4^nn^2)$ 后发现比时限多了 $\epsilon$ s, 故认为是被卡常了而没有想去优化. 事实上在开考看题的时候就想到了优化方式. 有点唐.

T2 曾考虑过不写主席树而写整体二分, 但忘记了该如何整体二分. 虽然主席树远好写于整体二分. 有点唐.
