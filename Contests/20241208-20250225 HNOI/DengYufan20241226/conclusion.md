# 20241226 总结

## T1([a](https://qoj.ac/problem/6553)) [元素分组] [括号匹配] [贪心]

期望:100 实际:100 难度:3 用时:2h

当限制条件和贡献中不同颜色的元素都 **相对** 独立时, 可以考虑将每种颜色的元素分开考虑 (此时无法考虑的限制条件和贡献可以先忽略), 以简化局面而便于发现更多的性质.

对于一类贡献形式为在操作序列的靠前位置加入并在靠后位置删除的问题, 分别决策加入和删除是困难的 (或许删除时不用决策, 但加入时不清楚何时删除一定是困难的), 应当先考虑加入与删除操作是否可以通过类似括号匹配的方法变成固定的若干组匹配, 然后整体决策一个加入-删除对 (也即区间).

对于一类最优化问题, 若操作包含了依次加入每个元素, 超过容量限制时选择一个元素丢弃, 且丢弃的元素不造成贡献, 则可以转化为决策每个元素是否加入, 任何时刻不可超过容量限制.

## T2(b) [绝对值转最大值] [贪心] [最小直径生成树]

期望:25 实际:25 难度:3 用时:2h

对于一类最优化问题, 当数据随机时, 给爆搜加上最优性剪枝后可以大幅降低常数, 即使在搜索途中暴力地判断成为瓶颈. 常数视题目而定, 本题约为 $10^{-5}$. **注意** 由于每次搜到叶子都会更新最优答案, 在搜索的途中也应当 **全局地** 判断是否依旧满足最优性.

一种拆绝对值的方式为 $|a| = \max(a,-a)$, 在最优化问题中常用. 还有一种是分类讨论正负性.

对于一类每个元素有恰好两维附带属性和若干种取值, 通过决策每个元素的取值来最小化与两维分别的最大值正相关的函数的问题, 不应当使用二分答案, 而应当先删去被偏序的取值, 将每个元素的取值按第一维降序排序后进行 $n$ 指针, 每次取指向第一维最大的元素的指针并将其后移. 初三就会且场切了这个套路 (但是多了一个冗余的二分), 现在反而不会了, 绷.

当最优化问题中出现了一个很 **难以不满足** 的限制但使得答案的式子变得丑陋许多 (如从只有最大值变为有最大值和次大值和分类讨论) 时, 考虑先按照不考虑这个限制的优美式子贪心, 若途中更新答案时不满足这个限制则重新使用另一种方式贪心 (此时的贪心只需考虑不满足限制条件的情况, 应当能得到更简单的做法). 需要保证贪心过程中不满足限制的情况的出现次数是较少的, 且应当证明正确性或确信自己走投无路了.

[最小直径生成树 OI-Wiki 页面](https://oi-wiki.org/graph/mdst/).

## T3([c](https://qoj.ac/problem/1257)) [观察力] [栈转树] [不会]

期望:5 实际:5 难度:5 用时:0.5h

$n$ 个结点的儿子有序的小根堆 (可多叉可一叉) 的数量, 也即对每个 $n$ 个结点的无标号有根树的拓扑序求和的结果, 为 $(2n-3)!! = \prod_{i=1}^{n-1} (2i-1)$. 证明考虑第一种理解, dfs 堆的过程中自上往下通过一条边时往序列末尾加入这条边连接的深度较大的点的编号, 自下往上回溯时同样加入这个点的编号, 则往 $n-1$ 个点的树加入 $n$ 号结点时, 其必然为一个叶子, 则序列中两个 $n$ 是连续的, 且可以插入进任意位置 (对应到前一个数的儿子或兄弟), 则方案数为 $(2n-3)$.

往栈中加入元素并最终全部弹出的操作, 可以与 dfs 一棵有根树对应.

不会.

## 结算

发现不会求解上文中的小根堆数量, 果断放弃 T3. 想了 1h T1 后想 T2 换脑子, 切 T1 后先将 T3 暴力写完然后安心想 T2. 由此观之并无太大的策略失误.
