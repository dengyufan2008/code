# 20241210 总结

## T1(a) [幂转组合数] [容斥]

期望:8 实际:8 难度:3.5 用时:**2h**

有 $a^k = \sum_{i=0}^k {a \choose i} {k \brace i} i!$, 其中 ${k \brace i}$ 为第二类斯特林数. 由此可以在一类一个方案的贡献为某个函数的 $k$ 次方的形式的题目中, 将 $k$ 个可重有序指针换成 $i$ 个不可重无序指针.

进一步地, 有 $\sum_{S \subseteq U} P(S) {a=|S| \choose i} = \sum_{S \subseteq U} P(S) \sum_{T \subseteq S, |T| = i} 1 = \sum_{T \subseteq U, |T| = i} \sum_{S \supseteq T} P(S)$, 即对于指针的每个指向方案计算包含这些元素的方案数并求和, 也即钦定 $i$ 个位置需要存在的方案数和. 当每个位置地位相同时可以只计算 $[1, i]$ 并乘上 ${|U| \choose i}$.

对于一个下标为集合的组合空间, 若有 popcount 相同时方案数相同, 则已知所有含有 $i$ 个 0 的集合的方案数之和 $(i \le t)$, 则可以通过容斥求出所有含有 $i$ 个 0 $j$ 个 1 的集合的方案数之和 $(i + j \le t)$.

## T2(b) [整体二分] [贪心]

期望:70 实际:70 难度:3 用时:1.5h

对于一类 $a_{p_i} + a_{p_{i+1}} \le \text{Const}$ 的限制, 考虑将所有元素减去 $\frac{\text{Const}}{2}$, 按 元素对 各自的正负性分类讨论以贪心.

使用整体二分时, 若序列随 mid 的变化而变化的方式比较复杂 (比如要动态维护未来可能加入的贡献集合), 考虑一开始按 mid 扫描线求出所有的变化, 二分时只需修改而不需维护; 不过每次暴力找到加入/删除的贡献集合并修改复杂度也是对的.

## T3(c) [观察力] [树上直径] [点分治]

期望:15 实际:15 难度:5 用时:1h

若干点的 $d$ 邻域的交为直径两端点的 $d$ 邻域的交, 为圆心 (直径中点) 的邻域.

两条有交的链的邻域的交为链交的邻域.

## 结算

尽管见到过很多次, 但依旧没有想到将幂转化为组合数的技巧, 且不认为能想到第二步的 choose $i$ 转化为 包含 $i$. 计数方面的技巧见的太少了.

T2 一个与正解毫无关系的正确做法拿到了较高分数. 不过即使及时地回退思路并想出了正解也难以实现. 对整体二分的熟练度不够.
