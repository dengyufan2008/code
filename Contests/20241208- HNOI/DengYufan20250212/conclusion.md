# 20250212 总结

## T1(a) [竞赛图] [Tarjan]

期望:100 实际:75 难度:2.5 用时:**3.5h**

犯了大量错误, 甚至还能有 75pts.

- 当一个连通块的贡献与连通块大小有关时, 缩点完应当动态维护连通块大小.

- 依据补图的连通性缩点时, 应当维护每个连通块的大小和连通块间边的数量, 以用边数和两侧大小之积的关系判断补图是否存在边.

- 当需要多次缩点时 (以两次为例), 第二次应当只对第一次的代表元缩点, 并更新每个点的代表元为第一次的代表元的第二次的代表元, 或者直接使用并查集维护代表元.

- 当代码中需要特判时 (如大小为 2 的连通块贡献为 2 而非 1), 应当检查是否每个地方都进行了特判, 尤其是隐形的使用了不需要特判的性质时 (将贡献和直接设为连通块数量), 尤其是这个特判是在代码写完调试的时候才发现时.

根据一张图的补图 (无向图) 来缩连通块可以做到 $O(n+m)$. 具体的, 找到度数最小的点, 将它和所有非邻居缩在一起, 则原图只剩 $O(\min(n, \frac{m}{n})) = O(\sqrt m)$ 个点, 随后暴力缩连通块即可.

一张竞赛图只要还未被定向的边将整张图连通, 则一定存在一种定向所有边的方案, 使得图是强连通分量.

竞赛图一定存在一条欧拉路径. 具体地, 考虑归纳证明, 并尝试将新点插在原路径的每一个缝隙里.

## T2(b) [方案数转概率] [概率论]

期望:27 实际:27 难度:3.5 用时:0.5h

似乎大部分计数合法方案数的题目转化为合法概率都是不劣的, 如 20241114 T3.

若一些随机事件两两之间的影响均只会发生一次 (构成一棵树), 且不关心发生影响后一条边两侧的两个随机事件的条件概率 (包括同时发生或同时不发生等的概率), 则可以视为每个随机事件始终彼此独立. 显然此时更新受到影响后的概率所用到的值只有一条边的两端点的概率.

例如, 树上每个结点有 $p_i$ 的概率独立的产生一个石头, 按编号顺序考虑每个结点, 若其非根且有石头且父亲没有石头则将石头移到父亲, 求考虑完之后每个点上有石头的概率. 则任意时刻都可以认为所有结点有无石头是独立的, 因为发生传递之后可以将这条边断开, 之后可以不再考虑跨连通块的点对的影响.

当两个随机事件不独立时, 计算由这个局面得到的其他局面的概率可以枚举两个随机事件在随机空间中的具体取值, 并对每种情况带权求和. 事实上就是暴搜.

## T3(c) [贪心] [模拟费用流]

期望:18 实际:5 难度:5 用时:0.5h

特殊性质的 slope trick 并没有时间写.

证明答案的凸性可以考虑使用费用流建模, 或者依据特殊性质的提示直接猜测答案具有凸性.

## 结算

感觉对于图论中连通性相关的题目极其容易写挂. 缺乏练习了.
