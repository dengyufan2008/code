# 20250211 总结

## T1(a) [集合 Dp]

期望:100 实际:0 难度:2 用时:1h

没有判无解.

使用集合 Dp 确定树的形态时, 拓扑序为 popcount.

## T2(b) [数位 Dp] [势能分析]

期望:44 实际:36 难度:2.5 用时:1.5h

贪心的拿物品填满背包时, 使用了一个物品之后没有将这个物品删除, 又因为想要尽可能简短的实现而导致一个物品使用多次.

对于一个极大数 $M$, 进行 $n$ 次 +1 后, 进位的总次数是 $O(n + \log M)$ 的.

进位有关的数位 Dp 也可以从高往低做. 具体地, 将状态中记录的进位数改为钦定前面需要进位的数量.

## T3(c) [哈希] [伪素数分解]

期望:30 实际:30 难度:4 用时:**2h**

对于一类在序列上选取若干个互不相交的区间的条件, 若允许的复杂度较大 (如 $O(n^2)$), 则应当直接考虑 Dp.

哈希可重集时, 一种愚蠢的做法是将可重集内可能出现的每个元素赋编号, 然后使用进制哈希. 更为聪明的做法是将可重集内可能出现的每个元素赋权值, 然后全部相加. 好处在于支持的模数更大 (从 $10^9$ 变为了 $10^{18}$, 不需要为了扩充值域使用双哈希), 且常数更小 (不需要乘法运算).

当需要判断若干值域极大的数相乘的结果是否是 $k$ 次方数时, 无需质因数分解分别判 $k$ 的倍数, 只需确定一个集合 $S$ 满足 $x \in S \Rightarrow \forall i \ge 2, x^{\frac{1}{i}} \notin \Z$ 且 $x \in S, y \in S, x \neq y \Rightarrow \gcd(x, y) = 1$, 且每个需要用到的数都能用若干集合里的数的乘积表示, 然后用这个集合来对每个数做伪素数分解即可. 具体构造考虑插入一个数, 则枚举集合内的数, 同除 gcd 并将 gcd 插入. 显然集合大小为 $O(n \log V)$ 的.

## 结算

面对 $O(n^2)$ 计数合法的不交的区间对的时候唐了 0.5h.

面对 T2 时没有自信想出正解, 从第一个 Sub 开始想, 而且时间不足以拼足够多的暴力.

写完代码后应当将题面重新阅读一遍, 以防止没判无解等情况.
