# 20250117 总结

## T1(info) [观察力] [虚树] [Dp]

期望:100 实际:55 难度:2 用时:**2.5h**

难度集中在读题. 没有写完正解, 60pts 的暴力在合并自己与所有儿子时写错了, 不应当将合法的概率相加而应当是 1 - 不合法的概率之积.

对于题目中没有加以解释的伪代码, 应当特别留意自然语言的部分, 以及一条语句的作用域.

对于树上一类边概率存在的连通性问题, 若最终的问题只与所有点与根的连通性相关, 则可以设 $f_x$ 表示 $x$ 子树内所有点与 $x$ 的连通性满足题目限制的概率. 如询问根与 $S$ 内点集中至少一个连通的概率, 则令 $a_x = [x \in S]$, $f_x = 1-(1-a_x)\prod_{i \in Son_x} (1-f_iw_i)$, 其中 $w_i$ 为 $i$ 与父亲的边存在的概率, 答案为 $f_{root}$.

对于一类多次指定每个点初始值的相同树上 Dp 问题, 若合并一棵初始值均为默认值的子树对 Dp 值不造成影响, 则可以将初始值不为默认值的点拿出来做虚树.

## T2(calc) [生成函数]

期望:100 实际:100 难度:2 用时:1h

若生成函数的式子中出现了无穷求和或可转化为无穷求和的部分 (如 $\prod_i \sum_{j=0}^{\infty} F_{i, j}$), 考虑将无穷求和转化为有限的多项分式.

## T3(perm) [贪心] [杨表] [Dp]

期望:50 实际:40 难度:3.5 用时:1h

贪心地判断合法假了. 事实上将从前往后改为从后往前就对了.

对于一类需要维护一个杨表状的东西 (单调不降的序列也可视为杨表), 且转移与之相关的 Dp, 若不好直接维护则考虑将其转置.

## 结算

几乎全机房都看错 T1 了约 2h. 所幸在 1h 后便放弃了 T1 并很快的切了 T2.

T3 对于暴搜的复杂度判断错误, 导致无效地拼了很多暴搜本身能跑过的部分分, 浪费了约 0.5h
