# 20241231 总结

## T1(a) [最小生成树] [边分治]

期望:30 实际:15 难度:3.5 用时:**2h**

在 ``struct`` 中不应开 $O(n)$ 的数组, 而应当专门将这个二维数组提出来, 否则访问非这个二维数组的元素时也需跳 $O(n^2)$ 的地址, 大幅增加了常数. 例: 图论中的 $dis_{x, y}$ 不应与 $e_{x, i}$ 放在同一个 ``struct`` 中.

对于一类最小生成树最优化问题, 若边数为 $O(n^2)$ 级别, 则不得不使用 Boruvka, 但若发现中途需要使用点分树或边分树来解决找最优边的问题, 则可以直接舍弃掉 Boruvka 算法, 而考虑如下性质: **一条边若在某一个最小生成树方案中, 则对于任意的包含了这条边的边集的边导出子图, 一定存在一种其的最小生成树方案包含了这条边.** 则可以在点分治/边分治时考虑所有跨过不同子树的边的导出子图形成的最小生成树的边集一定会在哪些边中选择 (此时一般需要猜测一个结论并使用经典的最小生成树调整法来证明最优性), 将 $O(n^2)$ 条边缩减为 $O(连通块大小)$ 条边, 则总共仅剩下 $O(n \log n)$ 条边.

使用边分治时需要三度化 (需要保证新树上两点的距离等于原树两点的距离). 方法为对于一条边 $(u, v, w)$, 开一个新点 $n+1$, 在新树上连边 $(u, n+1, 0)$ 与 $(n+1, v, w)$, 然后将 $u$ 的其他边放在 $n+1$ 上继续进行此操作.

## T2(b) [观察力] [Slope Trick] [计数第 k 大] [不会]

期望:60 实际:60 难度:5 用时:2h

对于一类计数问题, 若内部的问题需要使用 Dp 来最优化, 则应当考虑对 Dp 进行适当的变形 (如改为 Slope Trick / 贪心) 以将 DAG 变为链.

对于一类密铺区间的贪心问题 (如给一个人做菜的时间为 $a_i$, 吃饭的时间为 $b_i$, 一次只能给一个人做菜, 多个人可以同时吃饭, 最小化总用时), 若按值域顺序不好考虑则尝试逆序.

对于一类求 $[1, m]^n$ 的所有方案中的第 $k$ 小的和的计数问题, 除了暴力枚举第 $k$ 小的具体值, 有一类扩展性更强的 Dp 方式为设 $f_{i, j, l, r}$ 表示考虑了 $i$ 个元素, $l$ 为第 $j$ 小且 $r$ 为第 $j+1$ 小的方案数. 转移考虑新数与 $l$ 和 $r$ 的三类关系即可.

剩余部分还不会.

## T3(c) [观察力] [分类讨论] [莫比乌斯反演] [推式子]

期望:20 实际:20 难度:3.5 用时:0.5h

对于一类询问一个数能否表示成 $a \times b^c$ 的形式的问题, 由于 $c$ 对复杂度以及分类讨论数量的影响较大, 应当先确定 $c$ 的取值范围.

对于一类计算 $O(1)$ 个较大集合的并的问题, 考虑按集合大小从大往小计算, 每次需要剔除掉已经在前面出现过的元素. 这样可以平衡枚举元素与剔除的复杂度.

计数 $kx$ 没有平方因子的 $x$ 的数量可以将限制条件拆成 $k$ 与 $x$ 分别没有平方因子且 $k$ 与 $x$ 互质, 随后使用莫比乌斯反演加预处理容易解决.

可以用积分求解形如 $\sum_{i=0}^{n^{1/4}} O(i^{1/3})$ 的复杂度.

## 结算

猜到了 T1 的结论, 但由于不会证明一直不敢写, 事实上实现的难度是不高的, 也即性价比很高, 应当尝试.

在拼 T2 的暴力上花费了较长时间, 而且明知 T2 是一道看了题解都还不会的原题, 依旧尝试思考了一段时间正解.
