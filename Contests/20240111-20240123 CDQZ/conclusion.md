# 20240111 总结

## T1(road) [竞赛图三元环] [扫描线]

期望:20 实际:20 难度:3

想到了容斥, 但卡在了出边指向的任意两个点间都有连边的性质上.

考虑容斥三元环并未用到完全图这一强性质, 每次思路卡住时应回过头观察已有条件.

## T2(graph) [费用流] [随机化]

期望:30+ 实际:50 难度:3

发现状态过于庞大, 大概只能用网络流.
费用流的建图不难想到, 发现这种模型只适用于二分图; 最终答案为森林不难想到.

考虑只适用于二分图的原因为无法考虑内部的连边, 于是只需保证答案的边均不在内部. 当确定思路的大体方向正确时, 考虑当前错误做法的原因并修正.

## T3(jigsaw) [链求和转子树求和] [莫比乌斯反演]

期望:24 实际:24 难度:4.5

考虑 $(a, b)$ 只有至多一种转移, 故形成树结构. 对于计数问题考虑变换求和顺序使得求和更为简洁.

注意到, 分段打表可以多拿24.

## 结算

前一天晚上没睡好, 晕了两小时. ~~但是睡眠时间比平时长1.5h~~

# 20240112 总结

## T1(key) [格点多边形内格点数量]

期望:100- 实际:23 难度:2

猜了一个显然错误的结论, 考场上竟然没有意识到.

凸包的部分容易想到. 考虑怎么计算多边形内格点数量.

根据 Pick 定理:

$$
格点多边形面积 = 内部的格点数量 + \dfrac{边界的格点数量}{2} - 1
$$

或许可以记忆为, 教室里的学生交学费, 挂墙上半价, 老师不用付.

其实也想到了 三角剖分 + 拆一般三角为直角三角, 但由于自我感觉实现过于复杂一直没有动手, 实际上写出来只有 2.7k .

## T2(hammer) [整体操作小范围考虑] [构造]

期望:5 实际:0 难度:5

将 字典序排名 转化回 排列 的过程出错了. 第一次写这玩意. 使用 ```map``` 可以容易避免这一错误.

对于一个允许你搞的很长很复杂的操作, 考虑一些特例使得操作变简单(对任意长度的连续段 -> 对长度为 3 的连续段).

对于要求构造方案且不好 Dp 的问题, 考虑将其的规模一步步缩减为子问题(如求 排列 的 字典序排名).

## T3(shoes) [非 Dp 类计数]

期望:38 实际:25 难度:3

$n = 20$ 的 $O(n^6)$ 做法, 由于没写 $O(1)$ LCA 导致多了一个 log , 最后 1min 大力手算 $n = m = 2$ 的情况, 结果由于题意记反而算错.

大体思路与题解一致, 缺少了部分细节与实现的时间. 考虑到 网格图 本身具有拓扑序, 无需进行 树形 Dp , 可降低实现难度.

## 结算

做 T1 时过于犹豫, 反而浪费了很多时间.

难写的保证正确性的算法 >> 不算好写的不保证正确性的算法 .

# 20240115 总结

## T1(matrix) [分治] [二维转一维]

期望:60 难度:3

大体思路与正解一致, 但由于特殊性质想到了循环节, 后发现去掉特殊性质后循环节不好做放弃.

对于一个二维不好搞的问题, 考虑将其归约至一维.

## T2(road) [三角剖分] [异或 Hash]

期望:10 难度:4

看到平面图边数为 $2n - 3$ 居然没想到是三角剖分.

对于一个复杂的构造问题, 考虑一种最简单的构造(如菊花图).

## T3(shoes) [神秘线段树]

期望:3 难度:4

主要是没有想到一个数能连的边很少, 但实际上即使这个常数为因数个数 $O(n^{\frac{1}{3}})$ 也是可接受的.

## 结算

做完 T1 60分后想冲正解, 结果浪费了大量时间(虽然也有 vp 的因素在).

# 20240116 总结

## T1(cheer) [树上差分] [枚举质因数求 Gcd]

期望:10 实际:5 难度:4

没有特判一堆东西.

求 Gcd 一类的东西时, 各质因数是独立的可以分别考虑, 只需已知一个数作为 Gcd 确定的倍数.
同时, 给一个数加上一个数比直接删掉一个数好做.

树上差分不仅可以差父亲, 也可以把儿子全差一遍.

## T2(memory) [二分答案] [圆内直线交点计数]

期望:15 实际:15 难度:3

圆内两直线有交点即对应的弧有交且不包含. 与圆有关的直线要转成弧(Pty 题单里 奶牛互相看见 那道题).

## T3(return) [根号分治] [分块] [类天使玩偶] [莫队]

期望:40 实际:32 难度:3.5

莫队中使用 树状数组 而未使用 值域分块 平衡复杂度.

对于一类暴力求需要维护很多信息($O(n)$ 这种)的题目, 除 莫队 外还有 分块 可以考虑.

## 结算

再次在 T1 上浪费了大量时间, 简直像是被外星人附体了.

找要开的题的一种方法: 挑一眼就会的部分分最多的. 并且, 若连续 30min 没有想出新的部分分, 弃掉换另一道题.

别再在老歪脖子树上吊死了.

# 20240117 总结

## T1(witch) [大型树形 Dp] [线段树合并]

期望:56 实际:60 难度:2 用时:3h

数据过水导致的.

对于 Dp 中需要统计子树内各类点的信息的一类问题, 若 分类的限制容易满足 且 统计的合并方式较简单(如直接求和) 但 不好直接由儿子继承, 则考虑线段树合并.

写 Dp 方程前一定考虑清楚每个状态代表什么.

## T2(tree) [边分治] [Kruskal]

期望:30 实际:30 难度:4 用时:1h

对于复杂的树上路径问题(即别的算法都想过了之后), 考虑点/边分治.

Boruvka 的思想并不局限于全程都要找最小的. 也可以对于一些神秘连通块做一遍, 最小生成树的边集 一定属于 得出来的边组成的边集.

## T3(string) [矩阵乘法] [循环匹配]

期望:0 实际:0 难度:4.5 用时:0.5h

看到 $id \le 10^{18}$ 居然没有想到矩阵乘法.

对于求 字符串 在 一个由一堆字符串拼接起来的大字符串 中的匹配, 考虑让这一堆字符串的长度都不少于模式串的长度, 这样至多只会跨越一个串, 可以大力分讨.

对于求 字符串 在 另一个字符串 中循环匹配的问题, 考虑复制一遍, 母串建 SAM, 找到每个位置作为结尾匹配的最大长度, 再一步步跳 fail, 累加 |endpos|.

## 结算

做出 T1 的 $O(n^2)$ 算法后, 及时放弃开写代码, 减少了时间浪费. 事实上, 观察代码不难发现线段树合并的优化.

# 20240119 总结

## T1(mulsign) [莫队] [分治]

期望:40 实际:40 难度:2 用时:2h

带有各种前缀和的式子不难推出, 想维护不难想到莫队.

在发现这玩意不好维护之后, 应及时回到最初的式子考虑别的思路. 事实上, 分治的想法是不难想到的.

用线段树维护一坨与 绝对位置/前缀和 等有关的东西时, 不要直接维护, 而是在合并两个区间时将右侧区间的上述值进行偏移, 可以极大降低实现难度与常数.

## T2(emotion) [贡献拆分] [子集卷积]

期望:0 实际:0 难度:4 用时:1h

考场上想到的是枚举 组成环的点集 并统计 每种方案的路径权值和, 但显然可以只枚举一条边统计作为基环树中环的方案数.

## T3(chorus) [笛卡尔树]

期望:25 实际:25 难度:4.5 用时:2h

笛卡尔树可以极大的降低思维难度, 当看到序列上可以离散化的问题时, 考虑用笛卡尔树辅助思考并描述条件.

Dp 时每个状态的转移的限制条件可以不用依次求出, 而是全部一起求完后再进行 Dp. 有时当前状态的限制可以用以前的限制辅助求出.

## 结算

做 T1 时思路陷入了死路, 当很久没有进展之后考虑向后回退一步考虑其他思路.

# 20240120 总结

## T1(a) [Nim 游戏]

期望:100 实际:100 难度:1 用时:1h

略.

## T2(b) [Dp 状态化简] [FWT]

期望:60 实际:60 难度:2.5 用时:2.5h

Or 卷积的点值表达式就是高维前缀和, 而 And 卷积为高维后缀和. 利用这一性质可以直接维护点值表达式, 而可以避免 FWT 与 IFWT .

对于限制较多的 Dp, 考虑先进行容斥消去一些限制, 如 20240117 witch.

## T3(c) [alcS] [分治]

期望:10 实际:10 难度:5 用时:1.5h

想了很久只想到了可以分治. 原来是论文题.

## 结算

T3 仍浪费了一定时间, 中途有大约 1h 的时间没有进展. 用来想 T2 应该能切.
(一样的还不一定能做到的考场策略此处不重复).

# 20240122 总结

## T1(physics) [组合数学]

期望:100 实际:100 难度:2.5 用时:2.5h

当发现做了碰球问题一步经典转化后无法做了之后及时重新调整思路.

最后化式子的时候居然没一眼看出来吸收公式多想了 10min .

## T2(vaguelette) [拆分贡献] [拉格朗日插值]

期望:10 实际:0 难度:4.5 用时:30min

想了 10min 没有想到 $F(T, a)$ 的求法. 实际上考虑一条边是否会有贡献是一个很经典的思路(如 20240119 emotion). 再想不到就要放首页了.

对于一个二维的 Dp 数组, 可以认为它是 $n$ 个多项式, 直接维护点值最后插值就可以求出所有 $Dp_i$ 的带权和.

## T3(partial) [分块]

期望:50 实际:50 难度:3.5 用时:2h

链的三分做法差不多想好了. 实际上可以二分. 并且与正解的思路相差很大.

对于数据结构不好维护的奇怪查询, 考虑对询问修改分块. 可以大力预处理, 但修改需要能够快速进行.

## 结算

T2 $m = 2$ 的暴力没有注意到无需枚举子序列和求 $F(T, a)$ , 感觉写不完且难调就放弃了, 遗憾少了 10pts.

# 20240123 总结

## T1(b) [多项式快速幂]
期望:100 实际:40 难度:2 用时:3h

写的 $O(q m^2 \sqrt n \log n)$ 的做法, 最后一个点稳定 1.046s . 预处理多项式的二的次幂就过了.

实际上, 若用到 $\sum m$ 为 $O(m)$ 级别的条件, 则可以消去 $O(\sqrt n)$ . 但当时感觉浪费了很多时间, 精神错乱之下没有想到这一做法.

## T2(c) [靶函数]
期望:33 实际:12 难度:5 用时:1.5h

把 $O(2^m)$ 的状态改成 $O(17 的拆分数)$ 的状态即可. 考场上估算拆分数认为是 $O(2^m)$ 级别.

对于一类求 庞大状态 简单转移 的期望问题, 考虑构造一个定义域较小的 势能函数 与 一个状态的势能, 使得当得知这个函数的点值后每个状态的势能容易计算, 且一次转移中 势能的期望变化与状态的期望变化一致, 则期望直接由势能给出.

## T3(d) [仙人掌上 Dp]
期望:30 实际:0 难度:3 用时:30min

没有时间写导致的. 难度主要集中在实现.

对于一些树上可做的搬到仙人掌上的问题, 考虑建立圆方树.

对于树上一个 $O(\sum_{x} \sum_{i \in Son_x} \min(m, nowsize_x) * \min(m, size_i))$ 的算法(带限制背包), 其均摊 $O(nm)$ . 具体证明可分类讨论 $nowsize_x$ 与 $m$ 的关系 及 $size_i$ 与 $m$ 的关系.

## 结算
T1 对于一个算法的复杂度计算错误, 并且不看模数就自信认为可以 NTT, 导致很快糊出一个优秀的假做法. 导致浪费时间心态变化精神错乱, 最终遗憾.

发现自己假了崩溃的时候, 做做别的题或者出去逛一圈清空脑子.
