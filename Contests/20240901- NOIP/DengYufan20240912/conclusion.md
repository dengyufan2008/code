# 20240912 总结

## T1(square) [双指针]

期望:100 实际:100 难度:1 用时:0.5h

略.

## T2(delete) [分配贡献] [容斥]

期望:70 实际:70 难度:2 用时:2h

当局面的终止条件为满足某个条件且该条件在操作序列上具有单调性时, 计数操作的数量可以枚举不满足条件和满足条件的局面的分界, 贡献为从初始局面变化到当前局面的方案数.

当求一类特定等价类的大小乘不满足限制的元素的个数的和时, 考虑将其容斥为全集减去满足限制的元素的个数, 从而将这个特殊元素的限制放进等价类的限制中, 无需前缀后缀拼接.

## T3(perm) [观察力] [线段树]

期望:10 实际:10 难度:3.5 用时:1h

将单峰序列的限制分配到每个元素身上, 则可以改写为 每个元素至多只有一侧含有比它大的数.

对于一类交换次数最小的问题, 考虑每个元素必须与哪些元素交换, 通常只需交换这些.

## T4(map 同 [Bánh Bò](https://www.luogu.com.cn/paste/8ldma22f)) [容斥] [Dp]

期望:8 实际:4 难度:5 用时:1h

在判断 $n \times m \le 20$ 时, 将 ``1LL * n * m <= 20`` 写为了 ``n * m <= 20``.

当对二维局面的两维都有限制时, 使用枚举细节并取幂次的方式只能解决一维的限制, 故需要通过分类讨论使得每个元素只有一种限制.

当一个元素的两种分类有交时, 考虑将其钦定进其中一种, 并在另一种中消除两种共有的元素产生的影响.

当将二维的限制等价转化为一维后, 应当考虑将一维的限制进一步推导出零维的性质. 如, 当 $n * m$ 的矩形有形如 每个 $p * q$ 的子矩形的和都相等的限制时, 显然的等价转化为每个 $\bmod \space p$ 等价的长度为 $q$ 的平行的行的和都相等 & 每个 $\bmod \space q$ 等价的长度为 $p$ 的平行的列的和都相等, 进一步得出 任意四个行 $\bmod \space p$ 列 $\bmod \space q$ 等价的排的像矩形的格子两个对角的和相等.

当有关二维平面的 Dp 需要在状态中维护两个方向的信息时, 考虑其中一种信息对最终答案的影响方式, 并将其乘进 Dp 的转移中, 以另一个方向为拓扑序.

``map<vector<int>, int>`` 的时间复杂度为 $O(\log n \times \text{Cmp})$, 故应当将 ``vector<int>`` 压缩成一个数.

## 结算

考试策略炸完了. T3 与 T4 都花费了 1h 而没有进展.
