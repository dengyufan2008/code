# 20241024 总结

## T1(disinfect) [枚举] [双指针]

期望:100 实际:100 难度:1 用时:1h

写完了之后才发现 $O(c^3 \log c)$ 难以通过, 边想边改浪费了很多时间. 事实上应当先想好一个完善的做法再改.

## T2(card) [二分答案] [贪心]

期望:100 实际:100 难度:2 用时:1.5h

傻逼部分分, 和正解没有一点关系, 浪费我 30min.

当某一部分贡献无论无何决策都会产生时, 考虑事先统计完这部分贡献, 从而简化问题.

## T3(run) [建立虚点] [欧拉路径]

期望:12 实际:4 难度:3.5 用时:1h

对于一张连通图内有 $> 2$ 个奇度点的情况, 将这些点两两增加一条边而非新增一个虚拟点并向这些点连边, 从而使得路径可能有重复的端点. 事实上建立虚点以跑多条欧拉路径的技巧是较为板子的.

改题时 checker 一开始写挂了, 忘记了路径端点不重复的限制, 值得注意.

对于一类带有多个限制的构造题, 若对于每个限制单独做是容易的, 则考虑依次满足每个限制而得到新图. 如每条路径长度为偶数与路径间无重复端点的限制, 将两两的连续边绑定在一起即可得到满足第一个限制的新图.

## T4(path) [扫描线] [莫队] [二次离线]

期望:65 实际:65 难度:5 用时:1h

当莫队移动一个端点的复杂度为一个结点的度数时, 可以根据度数分块, 复杂度 $O(m \sqrt q)$.

对于图论数据结构题中的答案式子, 若将其写为枚举边并求和若干项乘积, 则不好用数据结构维护. 事实上应当考虑将其改写为枚举点并求和若干项乘积, 即使会使得变量数增加. (如 $\sum_{(x,y)} c_x c_y$ 应改为 $\sum_i c_i d_i$, 其中 $d_i = \sum_{(i,j)} c_j$).

莫队的二次离线需要让查询的东西能够前缀和差分得到, 从而将 $O(q \sqrt n)$ 次修改变为 $O(n)$ 次修改. 差分后 $l$ 和 $r$ 中必然有一个是与当前点相同或相差 1 的, 则这部分可以预处理; 而另一个移动的指针与查询的时刻是无关的, 则可以将若干单点查询缩为一个, 从而使空间复杂度降低至 $O(n)$.

写二次离线前应当先写普通的莫队, 从而保证式子正确. 事后再调试是浪费时间的.

## 结算

效率较低, 使得没有时间写 checker 导致挂分. 事实上也是对欧拉路径的掌握不足导致的.
