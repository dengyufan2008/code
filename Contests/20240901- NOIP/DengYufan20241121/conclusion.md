# 20241121 总结

## T1(scc) [交换求和顺序]

期望:100 实际:100 难度:1 用时:0.5h

略.

## T2(o) [观察力] [范德蒙德卷积]

期望:100 实际:100 难度:2 用时:1h

学到了一种没用的倍增方法: 从小到大枚举步长, 非法了就退出, 再从刚刚的值开始从大到小枚举步长. 设查找到的位置是 $p$, 这样枚举的次数是 $2 \lfloor \log_2 p \rfloor + 2$, 与数组的长度无关.

值小于等于 $m$ 的数量至少为 $t$ 的限制等同于第 $t$ 小的值小于等于 $m$.

则对于一类形如 $\sum_{i > t} {m \choose i} {n-m \choose k-i}$ 的式子, 考虑其组合意义, 在前 $m$ 个中至少选 $t+1$ 个, 则枚举第 $t+1$ 个的位置, 有 $\sum_{i \le m} {i-1 \choose t} {n-i \choose k-t-1}$, 成功地将 $t$ 从枚举范围换到了组合数中, 将 $m$ 从组合数中换到了枚举范围. 注意 $t<0$ 时等式不成立, 需要改用真正的范德蒙德卷积.

## T3(leaf) [换根 Dp] [扫描线]

期望:100 实际:100 难度:2 用时:1.5h

对于一类树上多次查询某条链的问题, 若一次 Dfs 可以快速地求出以一个点作为端点的所有答案, 则考虑离线查询并换根 Dp.

对于一类查询链上有多少个元素的值恰为 $x$ 的问题, 考虑离线下来按 $x$ 排序, 每次加入恰为 $x$ 的元素并使用树状数组与链上差分维护和.

对于一类查询与 链上所有点, 排除了 不经过这个点的连通块中链的某个端点所在的那个 之后的点集 有关的问题, 考虑预处理每个点子树内和子树外的答案, 分类讨论 Lca 两侧的点即可.

树上查询问题把图画出来会好考虑很多, 且一般需要固定根.

## T4(stone)

期望:40 实际:50 难度:3 用时:1.5h

数据水了, $n \le 8$ 的部分分尽管不满足特殊性质, 但使用特殊性质的做法同样可以通过.

对于猜测的合法条件, 若实践证明了其是正确的, 则考虑构造一组合法的方案. 当需要将合法条件扩展到适用更多的情况时, 考虑在什么更细化的情况下构造的合法方案会不合法.

如本题特殊性质 A 的合法操作方案之一为, 先将段内的不需要的字符删去, 则需要的字符全部合并, 再将两段之间的字符删去. 当没有特殊性质时两段之间的字符可能为空, 可能发生不想要的合并.

## 结算

并没有大的失误. 在推 T2 那个类范德蒙德卷积的式子时为了图方便进行了换元, 丢失了 $m+(n-m)=n$ 的条件. 以后在换元时应当先考虑哪些值是常量.
