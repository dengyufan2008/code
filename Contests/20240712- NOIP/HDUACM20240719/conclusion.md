# 20240719 [HDUACM](https://acm.hdu.edu.cn/contest/problems?cid=1124) 总结 & [Account](https://www.luogu.com.cn/paste/o08ha6jb)

## T1(循环位移) [哈希]

状态:AC 难度:2

略.

## T2(星星) [小体积背包]

状态:AC 难度:1

暴力可过.

对于小体积背包, 暴力做 $O(nmV)$, 可以将每个物品 ``shuffle`` 后看作在背包容量一维上的随机游走, 则考虑完前 $i$ 个物品后期望容量为 $\frac{im}{n}$, 当只维护这周围 $\plusmn V \sqrt m$ 的背包容量时错误的概率约为 $10^{-4}$. 故可以做到 $O(nV \sqrt m)$.

## T3(树) [线段树合并]

状态:AC 难度:1

略.

## T4(传送) [线段树分治] [可撤销并查集]

状态:AC 难度:2.5

若使用 LCT 维护的最大生成树, 其边权不作为答案的一部分贡献, 则可以使用线段树分治套并查集.

## T5(博弈) [对称]

状态:WA 难度:3

当需要求一个元素大于另一个元素的概率时, 考虑交换这两个元素其概率是否不变.

## T6(序列立方) [转次方为指针]

状态:AC 难度:2

若一个等价类的贡献为大小的 $k$ 次方, 则相当于拿 $k$ 个指针扫同一个等价类的方案数.

## T7(三元环) [竞赛图三元环] [三维偏序]

状态:AC 难度:2

竞赛图三元环见前文同标签.

## T8(位运算) [无]

状态:AC 难度:1

略.

## T9(数位的关系) [数位 Dp]

状态:N/A 难度:2.5

难度主要体现在实现. 一般可以利用差分去掉下界, 然后额外设 0/1 表示前面 $i$ 位是否都顶到上界. 无需设初始值, 在循环内加上填第一个非 0 数的转移即可. 对于题目要求的量, 注意前导 0 是否能转移的问题.

## T10(众数) [随机数据]

状态:WA 难度:3

数据随机时, 每个区间的最大值都期望很大. 一般这种题可以直接写暴力然后稍微剪枝.

实现方面的细节, 若对 最大值恰为一个数 的区间数计数, 则容易从小到大使用并查集解决, 需要从大到小枚举时, 使用 ``priority_queue`` 按段内最大值 维护每个被之前的较大值切开的段. 需要预处理最大值出现位置.

## T11(树上的 mex) [二分答案] [链转平面点] [扫描线]

状态:N/A 难度:3

通过二分答案可以将求 mex 时的 $[0, k-1]$ 出现 $k$ 不出现转为 $[0, mid-1]$ 出现. 省去了不出现的要求.

当用若干条链将树拆分时, 不经过特定链的链在 dfn 坐标系中 形成若干个矩形, 所有链的矩形个数之和为 $O(n)$ 级别.

## T12(并) [合并贡献]

状态:AC 难度:2

当矩形数量为 $10^4$ 级别时, 考虑每个切出来的小块.
