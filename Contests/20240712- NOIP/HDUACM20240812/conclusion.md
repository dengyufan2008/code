# 20240812 [打的稀碎的 HDUACM](https://acm.hdu.edu.cn/contest/problems?cid=1131) 总结

## T1(cats 的快乐 CF 刷题) [贪心] [单调栈] [线段树]

状态:N/A 难度:3.5

对于一类排列元素使得代价函数最大的题目, 若无限制时可直接将元素按某种方式排序得到答案, 那么在加入了树形拓扑序的限制 (多个栈内取元素 / 双端队列取元素) 后可以不断合并相邻逆序对 (对于线性的情况可以使用单调栈) 得到若干有序序列 (例如双端队列可以得到两个), 归并得到答案.

双端队列取元素问题可以转化成枚举分界点并归并两边的序列.

## T2(cats 的随机原神) [min/max 容斥] [神秘公式] [多项式多点求值]

状态:N/A 难度:4.5

对于一类求所有元素中第一个被减到 0 的期望用时, 考虑将其 min/max 容斥为求一个集合都被减到 0, 别的无所谓的期望用时.

一个神秘公式:
$$\sum_{i=0}^n (-1)^i {n \choose i} \frac{1}{m(i+t)+1} = \frac{\prod_{i=1}^n mi}{\prod_{i=0}^n (m(i+t)+1)}$$

<details><summary>Proof</summary>

> 考虑归纳证明. $n=0$ 时显然成立, 假设对于 $[0, n-1]$ 此结论成立.
> 
> $$
\begin{aligned}
\sum_{i=0}^n (-1)^i {n \choose i} \frac{1}{m(i+t)+1} &= \sum_{i=0}^n (-1)^i ({n-1 \choose i} + {n-1 \choose i-1}) \frac{1}{m(i+t)+1}
\\
&= \sum_{i=0}^{n-1} (-1)^i {n-1 \choose i} \frac{1}{m(i+t)+1} - \sum_{i=0}^{n-1} (-1)^i {n-1 \choose i} \frac{1}{m(i+t+1)+1}
\\
&= \frac{\prod_{i=1}^{n-1} mi}{\prod_{i=0}^{n-1} (m(i+t)+1)} - \frac{\prod_{i=1}^{n-1} mi}{\prod_{i=0}^{n-1} (m(i+t+1)+1)}
\\
&= \frac{\prod_{i=1}^{n-1} mi}{\prod_{i=0}^{n-1} (m(i+t)+1)} - \frac{\prod_{i=1}^{n-1} mi}{\prod_{i=1}^n (m(i+t)+1)}
\\
&= \frac{\prod_{i=1}^n mi}{\prod_{i=0}^n (m(i+t)+1)}
\end{aligned}$$

</details>

## T3(cats 的飞机坠毁) [区间 Dp] [恰好转至多]

状态:AC 难度:3

略.

## T4(cats 的重力拼图) [分类讨论]

状态:AC(-1) 难度:1

略.

## T5(cats 的二分答案) [记忆化搜索]

状态:AC 难度:2

线段树上同一层内不同的区间长度至多只有两种. 故所有区间的长度只有 $O(\log n)$ 种. 故形如 $f_i = f_{\lfloor \frac{i}{2} \rfloor} + 2f_{\lceil \frac{i}{2} \rceil}$ 的 Dp 若只需查一个点值, 可以 $O(\log n)$ 解决.

## T6(cats 的最小生成树) [并查集]

状态:AC(-1) 难度:2

若有 $m$ 个并查集, 每次将最靠前的一个某两点没有合并的集合上的该两点合并, 则其满足单调性. 归纳证明不难.

## T7(cats 的 k-xor) [观察力]

状态:AC 难度:2

若在 $k$ 进制下的不进位加法中有 $a+b=c$, 则 $k \mid a+b-c$. 考虑最低位容易证明.

事实上, 对一个新东西挖掘性质的时候, 可以主动舍弃掉一些不那么优美的式子 (比如非最低位的限制条件) 而只考虑简洁的式子.

## T8(cats 的数据结构) [贪心]

状态:WA(-4) 难度:3.5

假了.

对于一类元素为二元组且限制条件形如偏序的题目, 在二维平面上考虑更方便.

## T9(cats 的凸包计算) [拆分贡献]

状态:N/A 难度:4

计算凸包面积的方式除了定一个点叉乘转一圈之外, 还可以是对凸包每条边算它投影到 $x$ 轴途中覆盖的有向面积大小并求和.

对于一类计数问题, 若每个元素不能取相同值, 取值范围存在偏序 (包含) 单调性, 则可以从小的考虑到大的直接乘.

## T10(cats 的集合 1) [And 转 Xor+Or] [势能分析]

状态:AC(-3) 难度:3.5

$a \operatorname{and} b = ((a \operatorname{xor} S) \operatorname{or} (b \operatorname{xor} S)) \operatorname{xor} S$.

## T11(cats 的集合 2) [数位 Dp]

状态:WA(-1) 难度:3

数位 Dp 的常用思路是 枚举 $[0,lg)$ 中最后一段顶到上界的数中顶到上界的长度, 在其中加入题目要求的 Dp.

## T12(cats 的电脑中毒) [贪心]

状态:AC 难度:3

对于状态数量些许大使得难以手玩的情况, 考虑删掉一些特殊的 没有贡献/不优 的状态从而使得剩下的状态带有特殊性.
