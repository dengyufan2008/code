# 20240226 总结

## T1(dream) [容斥] [狄利克雷差分]

期望:60 实际:60 难度:2.5 用时:3h

难点在于不去想莫比乌斯反演.
该做法需要用到魔力筛 ($O(n)$ 计算 $g = \mu * f$).

想求 $Lcm$ 恰为 $i$ 的方案数一般会先求 $Lcm | i$ 的方案数.
想求 $Gcd$ 恰为 $i$ 的方案数一般会先求 $i | Gcd$ 的方案数.
求出前者后, 可以类似地求出 $Lcm$ 恰为 $i$ 且 $Gcd = 1$ 的方案数, 其中 $Gcd = 1$ 是一个很强的性质.

## T2(wind) [逆排列] [多项式卷积] [卢卡斯定理]

期望:70 实际:50 难度:3.5 用时:1h

这道题 $O(n^4)$ 可以过 $1000$, 但没开滚动数组导致跑不了 $n > 100$.

非对合排列可以与其逆排列一一对应, 其中对合排列为 $p_{p_i} = i$ 的排列.
在模 2 意义下对对合排列计数相当于对排列计数.

排列的逆序对个数与其逆排列的逆序对个数相等 ($i < j \space \land \space p_i > p_j \Rightarrow p_j < p_i \space \land \space j > i$).

前缀和可以看作乘以 $\dfrac{1}{1-x}$, 由此可以进行快速幂或交换律.

有卢卡斯定理:

$$ {n \choose m} \equiv {\lfloor \frac{n}{p} \rfloor \choose \lfloor \frac{m}{p} \rfloor} \times {n \bmod p \choose m \bmod p} \pmod p $$

由此, 有推论:

$$ {n \choose m} \equiv [n \And m = m] \pmod 2 $$

## T3(snow) [容斥] [观察力] [合同变换]

期望:15 实际:15 难度:4.5 用时:0.5h

对于一些比较简单的限制, 考虑合法状态与非法状态的关系, 并将限制容斥掉 (考虑非法状态的总数或与合法状态的和差).

对于一些复杂的贡献计算方式, 考虑分类讨论其贡献的组成部分以得到更多性质.

## 结算

T1 依然死磕一个想法.

对于每道题都尽量不让空间成为瓶颈.

T3 的特殊性质我全程在打表找规律而没有手推式子.
以后可以先推 10min 再考虑找规律.
