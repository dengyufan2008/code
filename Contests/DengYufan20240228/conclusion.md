# 20240228 总结

## T1(blocks) [线段树]

期望:40 实际:0 难度:3.5 用时:2h

枚举值域的循环上界错误地写了 $n$.

对于一类维护区间之间的相互关联的附带信息的数据结构, 考虑使用线段树.

线段树上维护区间之间的相交相离性, 考虑维护 $nt_i$ 表示有多少个区间跨过了 $[i, i + 1]$ 间的分界线.

对于线段树结点上一些进行区间操作会被推平, 但逆操作之后又需要还原的信息, 显然不能直接维护. 考虑分别维护推平前和推平后的信息, 合并左右儿子时分类讨论即可.

## T2(reset) [期望 Dp]

期望:20 实际:20 难度:4 用时:1h

对于一类转移与集合 $S$ 中的一个特殊元素 $x$ 有关, $S$ 中插入一个元素后 $x$ 的变化方便维护, 但若把当前 $x$ 删掉其变化唯一但不好维护的 Dp, 直接做必须维护整个集合. 考虑设计状态时钦定 $x$ 之后必须一直在集合中, 则终止状态会多出一个 $x$ 被删掉, 会多一个 Dp 数组, 转移时注意即可.

事实上, 此类 Dp 可以视作后继确定前驱唯一但未知的树上 Dp. 若其方程为线性组合的形式, 对于一个集合 $S$, 若其能转移到 $T$, 必然有 $f_T = f_S * k_T + b_T$. 将这个式子代入原来的 Dp 式子即可求出 $k_T$ 和 $b_T$ 的方程, 手解即可得到递推式. 对于一个 $T$, 还原出 $f_T$ 是容易的, 可以视作不断往根上跳, 同时维护对应项系数. 两种方法分别得到的两个 Dp 状态及方程是完全一样的.

## T3(triples) [贪心] [模拟网络流]

期望:20 实际:20 难度:4.5 用时:1.5h

对于一类最优化问题, 若其有显然的上下界, 考虑利用该界得到更多性质 (如 [U369223 集卡游戏](https://www.luogu.com.cn/training/393133#problems)).

模拟网络流一般会将网络流转化为最小割, 然后考虑一组解可能的形态.

## 结算

想 T1 的时候脑子非常混乱, 一直在想按左端点排序, 应该先把 T2 和 T3 的暴力写了再回来想的.
